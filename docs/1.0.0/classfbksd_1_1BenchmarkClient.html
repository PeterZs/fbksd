<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FBKSD: fbksd::BenchmarkClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FBKSD
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A Framework for Developing and Benchmarking Sampling and Denoising Algorithms for Monte Carlo Rendering</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>fbksd</b></li><li class="navelem"><a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classfbksd_1_1BenchmarkClient-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fbksd::BenchmarkClient Class Reference<div class="ingroups"><a class="el" href="group__BenchmarkClient.html">Benchmark Client Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classfbksd_1_1BenchmarkClient.html" title="The BenchmarkClient class is used to communicate with the benchmark server. ">BenchmarkClient</a> class is used to communicate with the benchmark server.  
 <a href="classfbksd_1_1BenchmarkClient.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BenchmarkClient_8h_source.html">BenchmarkClient.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBenchmarkClient_1_1Imp.html">Imp</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a79a0c280975d8e0b6ccc4d8a9d8512e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#a79a0c280975d8e0b6ccc4d8a9d8512e4">BenchmarkClient</a> (int argc=0, char *argv[]=nullptr)</td></tr>
<tr class="memdesc:a79a0c280975d8e0b6ccc4d8a9d8512e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects with the benchmark server.  <a href="#a79a0c280975d8e0b6ccc4d8a9d8512e4">More...</a><br /></td></tr>
<tr class="separator:a79a0c280975d8e0b6ccc4d8a9d8512e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b90537f2db4056c8ed9d90bdacd0c65"><td class="memItemLeft" align="right" valign="top"><a id="a4b90537f2db4056c8ed9d90bdacd0c65"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BenchmarkClient</b> (const <a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a> &amp;)=delete</td></tr>
<tr class="separator:a4b90537f2db4056c8ed9d90bdacd0c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4246259415a405280bb1999ddf063935"><td class="memItemLeft" align="right" valign="top"><a id="a4246259415a405280bb1999ddf063935"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>BenchmarkClient</b> (<a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a4246259415a405280bb1999ddf063935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395efda3fe218961d81ba26ba3ea33c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfbksd_1_1SceneInfo.html">SceneInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#a395efda3fe218961d81ba26ba3ea33c4">getSceneInfo</a> ()</td></tr>
<tr class="memdesc:a395efda3fe218961d81ba26ba3ea33c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information about the scene being rendered.  <a href="#a395efda3fe218961d81ba26ba3ea33c4">More...</a><br /></td></tr>
<tr class="separator:a395efda3fe218961d81ba26ba3ea33c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba1ffaed3a920fb6b9669d796a1882a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#adba1ffaed3a920fb6b9669d796a1882a">setSampleLayout</a> (const <a class="el" href="classfbksd_1_1SampleLayout.html">SampleLayout</a> &amp;layout)</td></tr>
<tr class="memdesc:adba1ffaed3a920fb6b9669d796a1882a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sample layout.  <a href="#adba1ffaed3a920fb6b9669d796a1882a">More...</a><br /></td></tr>
<tr class="separator:adba1ffaed3a920fb6b9669d796a1882a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca94b32eedde9c544a23629760713572"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#aca94b32eedde9c544a23629760713572">getSamplesBuffer</a> ()</td></tr>
<tr class="memdesc:aca94b32eedde9c544a23629760713572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the buffer where samples are stored.  <a href="#aca94b32eedde9c544a23629760713572">More...</a><br /></td></tr>
<tr class="separator:aca94b32eedde9c544a23629760713572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af451bd52469832466d619f3794763c55"><td class="memItemLeft" align="right" valign="top">float *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#af451bd52469832466d619f3794763c55">getResultBuffer</a> ()</td></tr>
<tr class="memdesc:af451bd52469832466d619f3794763c55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the buffer where the result image is stored.  <a href="#af451bd52469832466d619f3794763c55">More...</a><br /></td></tr>
<tr class="separator:af451bd52469832466d619f3794763c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ef3eb0d75266bec382b57bdb4a28b3"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#a17ef3eb0d75266bec382b57bdb4a28b3">evaluateSamples</a> (int64_t numSamples)</td></tr>
<tr class="memdesc:a17ef3eb0d75266bec382b57bdb4a28b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request samples.  <a href="#a17ef3eb0d75266bec382b57bdb4a28b3">More...</a><br /></td></tr>
<tr class="separator:a17ef3eb0d75266bec382b57bdb4a28b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6893a8ce43024455535d9363bb5a41d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#ab6893a8ce43024455535d9363bb5a41d">evaluateSamples</a> (<a class="el" href="classfbksd_1_1SPP.html">SPP</a> spp)</td></tr>
<tr class="memdesc:ab6893a8ce43024455535d9363bb5a41d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request samples.  <a href="#ab6893a8ce43024455535d9363bb5a41d">More...</a><br /></td></tr>
<tr class="separator:ab6893a8ce43024455535d9363bb5a41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa059a3e8f414bb8d95cef36fa710ca88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfbksd_1_1BenchmarkClient.html#aa059a3e8f414bb8d95cef36fa710ca88">sendResult</a> ()</td></tr>
<tr class="memdesc:aa059a3e8f414bb8d95cef36fa710ca88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends the final result (rgb image)  <a href="#aa059a3e8f414bb8d95cef36fa710ca88">More...</a><br /></td></tr>
<tr class="separator:aa059a3e8f414bb8d95cef36fa710ca88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78cff13e698ed114f6b5c2e968e2830"><td class="memItemLeft" align="right" valign="top"><a id="ab78cff13e698ed114f6b5c2e968e2830"></a>
<a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a> &amp;)=delete</td></tr>
<tr class="separator:ab78cff13e698ed114f6b5c2e968e2830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ab8d1579c7062e2844f5acaa415da1"><td class="memItemLeft" align="right" valign="top"><a id="a76ab8d1579c7062e2844f5acaa415da1"></a>
<a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classfbksd_1_1BenchmarkClient.html">BenchmarkClient</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a76ab8d1579c7062e2844f5acaa415da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classfbksd_1_1BenchmarkClient.html" title="The BenchmarkClient class is used to communicate with the benchmark server. ">BenchmarkClient</a> class is used to communicate with the benchmark server. </p>
<p>This class provides query methods that allows a technique to get information about the scene, request samples to be rendered, end send the final result.</p>
<p>Only one instance of this class should be created in your program. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a79a0c280975d8e0b6ccc4d8a9d8512e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a0c280975d8e0b6ccc4d8a9d8512e4">&#9670;&nbsp;</a></span>BenchmarkClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BenchmarkClient::BenchmarkClient </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[] = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects with the benchmark server. </p>
<p>The <a class="el" href="classfbksd_1_1BenchmarkClient.html" title="The BenchmarkClient class is used to communicate with the benchmark server. ">BenchmarkClient</a> object should be instantiated at the beginning of the main function.</p>
<p>If you pass the argc and argv parameters from main(), the following command-line options become available: </p><pre class="fragment">--fbksd-renderer "&lt;renderer_exec&gt; &lt;renderer_args&gt; ..."
  Starts the renderer process with the given arguments.
--fbksd-spp &lt;value&gt;
  Sets the sample budget available to client.
</pre><p>This allows you to run your client program directly (for debugging purposes, for example). </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a395efda3fe218961d81ba26ba3ea33c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395efda3fe218961d81ba26ba3ea33c4">&#9670;&nbsp;</a></span>getSceneInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfbksd_1_1SceneInfo.html">SceneInfo</a> BenchmarkClient::getSceneInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information about the scene being rendered. </p>
<p>The more important information are:</p><ul>
<li>image dimensions (width and height);</li>
<li>maximum number of samples available.</li>
</ul>
<p>This information allows you to configure your technique accordingly. See <a class="el" href="classfbksd_1_1SceneInfo.html" title="The SceneInfo class gives information about the scene being rendered. ">SceneInfo</a> for more details.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classfbksd_1_1SceneInfo.html" title="The SceneInfo class gives information about the scene being rendered. ">SceneInfo</a> </dd></dl>

</div>
</div>
<a id="adba1ffaed3a920fb6b9669d796a1882a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba1ffaed3a920fb6b9669d796a1882a">&#9670;&nbsp;</a></span>setSampleLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BenchmarkClient::setSampleLayout </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classfbksd_1_1SampleLayout.html">SampleLayout</a> &amp;&#160;</td>
          <td class="paramname"><em>layout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the sample layout. </p>
<p>The layout is the way to inform the FBKSD server what data your technique requires for each sample, and how the data should be laid out in memory. Common data includes, for example, color RGB and (x,y) image plane position.</p>
<p>This method should be called just once. </p>

</div>
</div>
<a id="aca94b32eedde9c544a23629760713572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca94b32eedde9c544a23629760713572">&#9670;&nbsp;</a></span>getSamplesBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BenchmarkClient::getSamplesBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the buffer where samples are stored. </p>
<p>Calling <a class="el" href="classfbksd_1_1BenchmarkClient.html#a17ef3eb0d75266bec382b57bdb4a28b3" title="Request samples. ">evaluateSamples()</a> makes the requested samples to be written to the buffer.</p>
<p>To pass <code>INPUT</code> samples, the user should write them in the buffer before calling <a class="el" href="classfbksd_1_1BenchmarkClient.html#a17ef3eb0d75266bec382b57bdb4a28b3" title="Request samples. ">evaluateSamples()</a>.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="classfbksd_1_1BenchmarkClient.html" title="The BenchmarkClient class is used to communicate with the benchmark server. ">BenchmarkClient</a> owns the buffer: do not delete. </dd></dl>

</div>
</div>
<a id="af451bd52469832466d619f3794763c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af451bd52469832466d619f3794763c55">&#9670;&nbsp;</a></span>getResultBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float * BenchmarkClient::getResultBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the buffer where the result image is stored. </p>
<p>The user should write the final reconstructed image to this buffer before calling <a class="el" href="classfbksd_1_1BenchmarkClient.html#aa059a3e8f414bb8d95cef36fa710ca88" title="Sends the final result (rgb image) ">sendResult()</a>;</p>
<p>The layout of the image in memory follows a scan-line pixel order: matrix of pixels with <code>width</code> columns, and <code>height</code> lines, with each pixel having R, G, and B values, in this order.</p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="classfbksd_1_1BenchmarkClient.html" title="The BenchmarkClient class is used to communicate with the benchmark server. ">BenchmarkClient</a> owns the buffer: do not delete. </dd></dl>

</div>
</div>
<a id="a17ef3eb0d75266bec382b57bdb4a28b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17ef3eb0d75266bec382b57bdb4a28b3">&#9670;&nbsp;</a></span>evaluateSamples() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t BenchmarkClient::evaluateSamples </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>numSamples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request samples. </p>
<p>The samples are written to the buffer returned by <a class="el" href="classfbksd_1_1BenchmarkClient.html#aca94b32eedde9c544a23629760713572" title="Returns a pointer to the buffer where samples are stored. ">getSamplesBuffer()</a>.</p>
<p><code>numSamples</code> should not exceed the maximum allowed sample budget.</p>
<p>Note that since <code>numSamples</code> can be less then the number of pixels, there is no guarantee that all pixels are covered by samples.</p>
<p>When the sample layout has input elements, they should be passed in the corresponding positions in the samples buffer.</p>
<dl class="section return"><dt>Returns</dt><dd>Number of returned samples. </dd></dl>

</div>
</div>
<a id="ab6893a8ce43024455535d9363bb5a41d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6893a8ce43024455535d9363bb5a41d">&#9670;&nbsp;</a></span>evaluateSamples() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t BenchmarkClient::evaluateSamples </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfbksd_1_1SPP.html">SPP</a>&#160;</td>
          <td class="paramname"><em>spp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request samples. </p>
<p>This is an overloaded method that accepts the number of samples in <a class="el" href="classfbksd_1_1SPP.html" title="Represents a number of samples given in samples-per-pixel. ">SPP</a>. The spp value is a multiple of the number of pixels in the image (samples-per-pixel).</p>
<dl class="section return"><dt>Returns</dt><dd>Number of evaluated samples (not in <a class="el" href="classfbksd_1_1SPP.html" title="Represents a number of samples given in samples-per-pixel. ">SPP</a>). </dd></dl>

</div>
</div>
<a id="aa059a3e8f414bb8d95cef36fa710ca88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa059a3e8f414bb8d95cef36fa710ca88">&#9670;&nbsp;</a></span>sendResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BenchmarkClient::sendResult </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends the final result (rgb image) </p>
<p>Calling this method is must be the last method you do before you exiting. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/fbksd/client/<a class="el" href="BenchmarkClient_8h_source.html">BenchmarkClient.h</a></li>
<li>src/libclient/BenchmarkClient.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jan 5 2019 18:19:38 for FBKSD by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
